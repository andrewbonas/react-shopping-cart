(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{32:function(t,e,c){},88:function(t,e,c){},94:function(t,e,c){},96:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c.n(n),a=c(14),s=c(33),i=c(36),o=c.n(i),d=c(9),j=c(40),u=c(12),l=c(11),b=c(5),x=(c(88),c(1));var h=function(){return Object(x.jsx)("div",{className:"app",children:Object(x.jsx)("div",{className:"hero-image",children:Object(x.jsxs)("div",{className:"hero-text",children:[Object(x.jsx)("h1",{className:"display-1",children:"React Shop"}),Object(x.jsx)(l.b,{to:"/products",children:Object(x.jsx)("button",{className:"btn btn-secondary btn-lg m-4",children:"View Shop"})})]})})})},m=c(38),O=c(39);var f=function(t){var e=Object(x.jsx)(m.a,{icon:O.a}),c=t.cartInfo.itemsCount;return Object(x.jsxs)("header",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between align-items-baseline",children:[Object(x.jsx)("h1",{className:"navbar-brand",children:"React Shop"}),Object(x.jsxs)("ul",{className:"navbar-nav",children:[Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{className:"nav-item text-dark p-2 text-decoration-none",to:"/",children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{className:"nav-item text-dark p-2 text-decoration-none",to:"/products",children:"Products"})}),Object(x.jsx)("li",{children:Object(x.jsxs)(l.b,{className:"nav-item text-dark p-2 text-decoration-none",to:"/cart",children:[e," ",0!==c?"".concat(c):null]})})]})]})},p=c(15),v=c.n(p),g=c(21);c(32);var N=function(){Object(n.useEffect)((function(){Object(a.trackPromise)(s())}),[]);var t=Object(n.useState)([]),e=Object(u.a)(t,2),c=e[0],r=e[1],s=function(){var t=Object(g.a)(v.a.mark((function t(){var e,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakestoreapi.com/products");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,r(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"product d-flex flex-wrap flex-row text-center",children:c.map((function(t){return Object(x.jsx)("div",{className:"card m-2 justify-content-center border-none",children:Object(x.jsxs)(l.b,{className:"text-decoration-none",to:"/product/".concat(t.id),children:[Object(x.jsx)("img",{className:"center-block",src:t.image,alt:"Product"}),Object(x.jsxs)("div",{className:"card-body text-dark",children:[Object(x.jsx)("h6",{children:t.title}),Object(x.jsxs)("p",{children:["$ ",t.price.toFixed(2)]})]})]},"{item.id}")})}))})};var k=function(t){var e=t.match,c=t.addToCart;Object(n.useEffect)((function(){Object(a.trackPromise)(j())}),[]);var r=Object(n.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],j=function(){var t=Object(g.a)(v.a.mark((function t(){var c,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakestoreapi.com/products/".concat(e.params.id));case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,o(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"product-detail text-center w-50 m-auto p-5",children:[Object(x.jsx)("img",{className:"product-img",src:i.image,alt:"Product"}),Object(x.jsx)("h1",{children:i.title}),Object(x.jsx)("p",{children:i.description}),Object(x.jsxs)("p",{children:["$ ",i.price]}),Object(x.jsx)("button",{className:"btn-primary rounded",onClick:function(){return c(Object(d.a)(Object(d.a)({},i),{},{count:1}))},children:"Add to cart"})]})},C=(c(94),function(t){var e=t.cart,c=t.cartInfo,n=t.increaseCount,r=t.decreaseCount,a=t.removeItem,s=t.checkoutItems;return console.log(c),console.log(e.cart),Object(x.jsxs)("div",{className:"cart-body",children:[e.map((function(t){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"cart-item d-flex justify-content-between align-items-center border-bottom p-3 m-2",children:[Object(x.jsx)("img",{src:t.image,alt:"Product"}),Object(x.jsxs)("div",{className:" d-flex justify-content-around align-items-baseline",children:[Object(x.jsxs)("p",{children:["$ ",t.price.toFixed(2)]}),Object(x.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(x.jsx)("button",{className:"btn btn-count btn-dark rounded-circle font-weight-bold text-center",onClick:function(){return r(t.id)},children:"-"}),Object(x.jsx)("p",{children:t.count}),Object(x.jsx)("button",{className:"btn btn-count btn-dark rounded-circle font-weight-bold text-center",onClick:function(){return n(t.id)},children:"+"})]})]}),t.title.length>30?Object(x.jsx)("h6",{children:t.title.substring(0,27)+"..."}):Object(x.jsx)("h6",{children:t.title}),Object(x.jsx)("button",{className:"btn btn-danger rounded",onClick:function(){return a(t.id)},children:"Remove"})]})})})),Object(x.jsx)("div",{className:"d-flex justify-content-end p-3 text-center",children:Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("h4",{children:"Check Out"}),Object(x.jsxs)("div",{children:["Cart Items: ",c.itemsCount]}),Object(x.jsxs)("div",{children:["Total: $ ",c.totalPrice.toFixed(2)]}),e.length>0?Object(x.jsx)("button",{className:"btn-info rounded m-2",onClick:function(){return s()},children:"Checkout"}):Object(x.jsx)("button",{className:"btn-light rounded m-2",disabled:!0,children:"Nothing in Cart"})]})})]})}),w=function(){var t=Object(n.useState)([]),e=Object(u.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)({itemsCount:0,totalPrice:0}),s=Object(u.a)(a,2),i=s[0],o=s[1];Object(n.useEffect)((function(){var t=c.reduce((function(t,e){return t+e.count}),0),e=c.reduce((function(t,e){return t+e.count*e.price}),0);o({itemsCount:t,totalPrice:e})}),[c]);var m=function(t){c.map((function(t){return t.id})).includes(t.id)?O(t.id,1):r([].concat(Object(j.a)(c),[t]))},O=function(t,e){r(c.map((function(c){return c.id===t?Object(d.a)(Object(d.a)({},c),{},{count:c.count+e}):c})))},p=function(t){r(c.filter((function(e){return e.id!==t})))},v=function(){r([]),alert("Thanks for Shopping!")},g=function(t){r(c.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),{},{count:e.count+1}):Object(d.a)({},e)})))},w=function(t){r(c.map((function(e){return e.id===t&&1===e.count?Object(d.a)({},e):e.id===t?Object(d.a)(Object(d.a)({},e),{},{count:e.count-1}):Object(d.a)({},e)})))};return Object(x.jsxs)(l.a,{children:[Object(x.jsx)(f,{cartInfo:i}),Object(x.jsxs)(b.c,{children:[Object(x.jsx)(b.a,{exact:!0,path:"/",component:h}),Object(x.jsx)(b.a,{exact:!0,path:"/products",component:N}),Object(x.jsx)(b.a,{exact:!0,path:"/product/:id",render:function(t){t.props;var e=t.match;return Object(x.jsx)(k,{match:e,addToCart:m})}}),Object(x.jsx)(b.a,{exact:!0,path:"/cart",render:function(t){t.props;return Object(x.jsx)(C,{cartInfo:i,cart:c,decreaseCount:w,increaseCount:g,removeItem:p,checkoutItems:v})}})]})]})},y=(c(95),function(t){return Object(a.usePromiseTracker)().promiseInProgress&&Object(x.jsx)(s.CommonLoading,{})});o.a.render(Object(x.jsxs)(r.a.StrictMode,{children:[Object(x.jsx)(w,{}),Object(x.jsx)(y,{})]}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.7042729e.chunk.js.map